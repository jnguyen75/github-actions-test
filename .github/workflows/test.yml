name: Test Workflow
on:
  push:
    branches:
      - main
      - 'releases/**'

  workflow_dispatch:

jobs:
  test1:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
      - name: Check for 'donotcommit'
        uses: jnguyen75/github-actions-test/actions/search-pattern@main
        with:
          search-pattern: do*commit
          exclude-dir: .git
          fail-if-found: true


  # notify-failure:
  #   if: ${{ always() && contains(needs.*.result, 'failure') }}
  #   needs:
  #     - test1
  #     - test2
  #   uses: jnguyen75/github-actions-test/.github/workflows/notify-failure-slack.yml@main
  #   secrets: inherit
